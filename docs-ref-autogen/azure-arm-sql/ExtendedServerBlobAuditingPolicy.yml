### YamlMime:UniversalReference
items:
  - uid: azure-arm-sql.ExtendedServerBlobAuditingPolicy
    name: ExtendedServerBlobAuditingPolicy
    fullName: ExtendedServerBlobAuditingPolicy
    children:
      - azure-arm-sql.ExtendedServerBlobAuditingPolicy.auditActionsAndGroups
      - azure-arm-sql.ExtendedServerBlobAuditingPolicy.id
      - azure-arm-sql.ExtendedServerBlobAuditingPolicy.isAzureMonitorTargetEnabled
      - azure-arm-sql.ExtendedServerBlobAuditingPolicy.isStorageSecondaryKeyInUse
      - azure-arm-sql.ExtendedServerBlobAuditingPolicy.name
      - azure-arm-sql.ExtendedServerBlobAuditingPolicy.predicateExpression
      - azure-arm-sql.ExtendedServerBlobAuditingPolicy.retentionDays
      - azure-arm-sql.ExtendedServerBlobAuditingPolicy.state
      - azure-arm-sql.ExtendedServerBlobAuditingPolicy.storageAccountAccessKey
      - azure-arm-sql.ExtendedServerBlobAuditingPolicy.storageAccountSubscriptionId
      - azure-arm-sql.ExtendedServerBlobAuditingPolicy.storageEndpoint
      - azure-arm-sql.ExtendedServerBlobAuditingPolicy.type
    langs:
      - typeScript
    type: interface
    summary: <span data-ttu-id="8e10b-101">Um política de auditoria de blob de servidor estendida.</span><span class="sxs-lookup"><span data-stu-id="8e10b-101">An extended server blob auditing policy.</span></span>
    extends:
      name: azure-arm-sql.ProxyResource
    package: azure-arm-sql
  - uid: azure-arm-sql.ExtendedServerBlobAuditingPolicy.auditActionsAndGroups
    name: auditActionsAndGroups
    fullName: auditActionsAndGroups
    children: []
    langs:
      - typeScript
    type: property
    summary: |
      <span data-ttu-id="8e10b-102">Especifica os grupos de ações e ações para auditar.</span><span class="sxs-lookup"><span data-stu-id="8e10b-102">Specifies the Actions-Groups and Actions to audit.</span></span>
      <span data-ttu-id="8e10b-103">O conjunto recomendado de grupos de ação para usar é a seguinte combinação – Isso executará a auditoria todas as consultas e procedimentos armazenados executados contra o banco de dados, bem como logons bem-sucedidas e com falhas:</span><span class="sxs-lookup"><span data-stu-id="8e10b-103">The recommended set of action groups to use is the following combination - this will audit all the queries and stored procedures executed against the database, as well as successful and failed logins:</span></span>

      <span data-ttu-id="8e10b-104">BATCH_COMPLETED_GROUP, SUCCESSFUL_DATABASE_AUTHENTICATION_GROUP, FAILED_DATABASE_AUTHENTICATION_GROUP.</span><span class="sxs-lookup"><span data-stu-id="8e10b-104">BATCH_COMPLETED_GROUP, SUCCESSFUL_DATABASE_AUTHENTICATION_GROUP, FAILED_DATABASE_AUTHENTICATION_GROUP.</span></span>

      <span data-ttu-id="8e10b-105">Isso acima combinação também é o conjunto que é configurado por padrão, ao habilitar a auditoria do portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="8e10b-105">This above combination is also the set that is configured by default when enabling auditing from the Azure portal.</span></span>

      <span data-ttu-id="8e10b-106">Os grupos de ação com suporte para auditoria são (Observação: escolha grupos específicos que abordam suas necessidades de auditoria.</span><span class="sxs-lookup"><span data-stu-id="8e10b-106">The supported action groups to audit are (note: choose only specific groups that cover your auditing needs.</span></span> <span data-ttu-id="8e10b-107">Usar grupos desnecessários pode levar a quantidades muito grandes de registros de auditoria):</span><span class="sxs-lookup"><span data-stu-id="8e10b-107">Using unnecessary groups could lead to very large quantities of audit records):</span></span>

      <span data-ttu-id="8e10b-108">APPLICATION_ROLE_CHANGE_PASSWORD_GROUP BACKUP_RESTORE_GROUP DATABASE_LOGOUT_GROUP DATABASE_OBJECT_CHANGE_GROUP DATABASE_OBJECT_OWNERSHIP_CHANGE_GROUP DATABASE_OBJECT_PERMISSION_CHANGE_GROUP DATABASE_OPERATION_GROUP DATABASE_ PERMISSION_CHANGE_GROUP DATABASE_PRINCIPAL_CHANGE_GROUP DATABASE_PRINCIPAL_IMPERSONATION_GROUP DATABASE_ROLE_MEMBER_CHANGE_GROUP FAILED_DATABASE_AUTHENTICATION_GROUP SCHEMA_OBJECT_ACCESS_GROUP SCHEMA_OBJECT_CHANGE_GROUP SCHEMA _ OBJECT_OWNERSHIP_CHANGE_GROUP SCHEMA_OBJECT_PERMISSION_CHANGE_GROUP SUCCESSFUL_DATABASE_AUTHENTICATION_GROUP USER_CHANGE_PASSWORD_GROUP BATCH_STARTED_GROUP BATCH_COMPLETED_GROUP</span><span class="sxs-lookup"><span data-stu-id="8e10b-108">APPLICATION_ROLE_CHANGE_PASSWORD_GROUP BACKUP_RESTORE_GROUP DATABASE_LOGOUT_GROUP DATABASE_OBJECT_CHANGE_GROUP DATABASE_OBJECT_OWNERSHIP_CHANGE_GROUP DATABASE_OBJECT_PERMISSION_CHANGE_GROUP DATABASE_OPERATION_GROUP DATABASE_PERMISSION_CHANGE_GROUP DATABASE_PRINCIPAL_CHANGE_GROUP DATABASE_PRINCIPAL_IMPERSONATION_GROUP DATABASE_ROLE_MEMBER_CHANGE_GROUP FAILED_DATABASE_AUTHENTICATION_GROUP SCHEMA_OBJECT_ACCESS_GROUP SCHEMA_OBJECT_CHANGE_GROUP SCHEMA_OBJECT_OWNERSHIP_CHANGE_GROUP SCHEMA_OBJECT_PERMISSION_CHANGE_GROUP SUCCESSFUL_DATABASE_AUTHENTICATION_GROUP USER_CHANGE_PASSWORD_GROUP BATCH_STARTED_GROUP BATCH_COMPLETED_GROUP</span></span>

      <span data-ttu-id="8e10b-109">Esses são grupos que abrangem todas as instruções sql e procedimentos armazenados executados no banco de dados e não devem ser usados em combinação com outros grupos, pois isso resultará em logs de auditoria duplicados.</span><span class="sxs-lookup"><span data-stu-id="8e10b-109">These are groups that cover all sql statements and stored procedures executed against the database, and should not be used in combination with other groups as this will result in duplicate audit logs.</span></span>

      <span data-ttu-id="8e10b-110">Para obter mais informações, consulte [grupos de ação de auditoria de nível de banco de dados](https://docs.microsoft.com/en-us/sql/relational-databases/security/auditing/sql-server-audit-action-groups-and-actions#database-level-audit-action-groups).</span><span class="sxs-lookup"><span data-stu-id="8e10b-110">For more information, see [Database-Level Audit Action Groups](https://docs.microsoft.com/en-us/sql/relational-databases/security/auditing/sql-server-audit-action-groups-and-actions#database-level-audit-action-groups).</span></span>

      <span data-ttu-id="8e10b-111">Para a política de auditoria de banco de dados, ações específicas também podem ser especificado (Observe que as ações não podem ser especificadas para diretiva de auditoria de servidor).</span><span class="sxs-lookup"><span data-stu-id="8e10b-111">For Database auditing policy, specific Actions can also be specified (note that Actions cannot be specified for Server auditing policy).</span></span> <span data-ttu-id="8e10b-112">As ações com suporte para auditoria são: EXECUTAR ATUALIZAÇÃO SELECIONE INSERIR EXCLUIR RECEBER REFERÊNCIAS</span><span class="sxs-lookup"><span data-stu-id="8e10b-112">The supported actions to audit are: SELECT UPDATE INSERT DELETE EXECUTE RECEIVE REFERENCES</span></span>

      <span data-ttu-id="8e10b-113">O formato geral para definir uma ação a ser auditado é: {action} ON {objeto} por {principal}</span><span class="sxs-lookup"><span data-stu-id="8e10b-113">The general form for defining an action to be audited is: {action} ON {object} BY {principal}</span></span>

      <span data-ttu-id="8e10b-114">Observe que <object> no formato anterior pode se referir a um objeto, como uma tabela, exibição, ou procedimento armazenado, ou um banco de dados inteiro ou esquema.</span><span class="sxs-lookup"><span data-stu-id="8e10b-114">Note that <object> in the above format can refer to an object like a table, view, or stored procedure, or an entire database or schema.</span></span> <span data-ttu-id="8e10b-115">Para os casos, os formulários de banco de dados:: {db_name} e o esquema:: {schema_name} são usados, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="8e10b-115">For the latter cases, the forms DATABASE::{db_name} and SCHEMA::{schema_name} are used, respectively.</span></span>

      <span data-ttu-id="8e10b-116">Por exemplo: SELECT on dbo.myTable by public SELECT on DATABASE::myDatabase by public SELECT on SCHEMA::mySchema by public</span><span class="sxs-lookup"><span data-stu-id="8e10b-116">For example: SELECT on dbo.myTable by public SELECT on DATABASE::myDatabase by public SELECT on SCHEMA::mySchema by public</span></span>

      <span data-ttu-id="8e10b-117">Para obter mais informações, consulte [ações de auditoria no nível de banco de dados](https://docs.microsoft.com/en-us/sql/relational-databases/security/auditing/sql-server-audit-action-groups-and-actions#database-level-audit-actions)</span><span class="sxs-lookup"><span data-stu-id="8e10b-117">For more information, see [Database-Level Audit Actions](https://docs.microsoft.com/en-us/sql/relational-databases/security/auditing/sql-server-audit-action-groups-and-actions#database-level-audit-actions)</span></span>
    optional: true
    syntax:
      content: 'auditActionsAndGroups?: string[]'
      return:
        type:
          - 'string[]'
    package: azure-arm-sql
  - uid: azure-arm-sql.ExtendedServerBlobAuditingPolicy.id
    name: id
    fullName: id
    children: []
    langs:
      - typeScript
    type: property
    summary: <span data-ttu-id="8e10b-118">ID do recurso.</span><span class="sxs-lookup"><span data-stu-id="8e10b-118">Resource ID.</span></span>
    optional: true
    syntax:
      content: 'id?: string'
      return:
        type:
          - string
    package: azure-arm-sql
  - uid: azure-arm-sql.ExtendedServerBlobAuditingPolicy.isAzureMonitorTargetEnabled
    name: isAzureMonitorTargetEnabled
    fullName: isAzureMonitorTargetEnabled
    children: []
    langs:
      - typeScript
    type: property
    summary: |+
      <span data-ttu-id="8e10b-119">Especifica se os eventos de auditoria são enviados para o Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="8e10b-119">Specifies whether audit events are sent to Azure Monitor.</span></span>
      <span data-ttu-id="8e10b-120">Para enviar os eventos para o Azure Monitor, especifique 'Estado' como 'Enabled' e 'IsAzureMonitorTargetEnabled' como true.</span><span class="sxs-lookup"><span data-stu-id="8e10b-120">In order to send the events to Azure Monitor, specify 'State' as 'Enabled' and 'IsAzureMonitorTargetEnabled' as true.</span></span>
      <span data-ttu-id="8e10b-121">Ao usar a API REST para configurar a auditoria, configurações de diagnóstico com a categoria de logs de diagnóstico 'SQLSecurityAuditEvents' no banco de dados deve ser criadas também.</span><span class="sxs-lookup"><span data-stu-id="8e10b-121">When using REST API to configure auditing, Diagnostic Settings with 'SQLSecurityAuditEvents' diagnostic logs category on the database should be also created.</span></span>
      <span data-ttu-id="8e10b-122">Observe que, para o nível de servidor de auditoria você deve usar o banco de dados 'mestre' {databaseName}.</span><span class="sxs-lookup"><span data-stu-id="8e10b-122">Note that for server level audit you should use the 'master' database as {databaseName}.</span></span>

      <span data-ttu-id="8e10b-123">Formato de URI de configurações de diagnóstico: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroup}/providers/Microsoft.Sql/servers/{serverName}/databases/{databaseName}/providers/microsoft.insights/diagnosticSettings/{settingsName}?api-version=2017-05-01-preview</span><span class="sxs-lookup"><span data-stu-id="8e10b-123">Diagnostic Settings URI format: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroup}/providers/Microsoft.Sql/servers/{serverName}/databases/{databaseName}/providers/microsoft.insights/diagnosticSettings/{settingsName}?api-version=2017-05-01-preview</span></span>

      <span data-ttu-id="8e10b-124">Para obter mais informações, consulte [API de REST de configurações de diagnóstico](https://go.microsoft.com/fwlink/?linkid=2033207) ou [PowerShell de configurações de diagnóstico](https://go.microsoft.com/fwlink/?linkid=2033043)</span><span class="sxs-lookup"><span data-stu-id="8e10b-124">For more information, see [Diagnostic Settings REST API](https://go.microsoft.com/fwlink/?linkid=2033207) or [Diagnostic Settings PowerShell](https://go.microsoft.com/fwlink/?linkid=2033043)</span></span>

    optional: true
    syntax:
      content: 'isAzureMonitorTargetEnabled?: boolean'
      return:
        type:
          - boolean
    package: azure-arm-sql
  - uid: azure-arm-sql.ExtendedServerBlobAuditingPolicy.isStorageSecondaryKeyInUse
    name: isStorageSecondaryKeyInUse
    fullName: isStorageSecondaryKeyInUse
    children: []
    langs:
      - typeScript
    type: property
    summary: <span data-ttu-id="8e10b-125">Especifica se o valor de storageAccountAccessKey é chave secundária do armazenamento.</span><span class="sxs-lookup"><span data-stu-id="8e10b-125">Specifies whether storageAccountAccessKey value is the storage's secondary key.</span></span>
    optional: true
    syntax:
      content: 'isStorageSecondaryKeyInUse?: boolean'
      return:
        type:
          - boolean
    package: azure-arm-sql
  - uid: azure-arm-sql.ExtendedServerBlobAuditingPolicy.name
    name: name
    fullName: name
    children: []
    langs:
      - typeScript
    type: property
    summary: <span data-ttu-id="8e10b-126">Nome do recurso.</span><span class="sxs-lookup"><span data-stu-id="8e10b-126">Resource name.</span></span>
    optional: true
    syntax:
      content: 'name?: string'
      return:
        type:
          - string
    package: azure-arm-sql
  - uid: azure-arm-sql.ExtendedServerBlobAuditingPolicy.predicateExpression
    name: predicateExpression
    fullName: predicateExpression
    children: []
    langs:
      - typeScript
    type: property
    summary: <span data-ttu-id="8e10b-127">Especifica a condição de onde cláusula durante a criação de uma auditoria.</span><span class="sxs-lookup"><span data-stu-id="8e10b-127">Specifies condition of where clause when creating an audit.</span></span>
    optional: true
    syntax:
      content: 'predicateExpression?: string'
      return:
        type:
          - string
    package: azure-arm-sql
  - uid: azure-arm-sql.ExtendedServerBlobAuditingPolicy.retentionDays
    name: retentionDays
    fullName: retentionDays
    children: []
    langs:
      - typeScript
    type: property
    summary: <span data-ttu-id="8e10b-128">Especifica o número de dias para manter na auditoria logs na conta de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="8e10b-128">Specifies the number of days to keep in the audit logs in the storage account.</span></span>
    optional: true
    syntax:
      content: 'retentionDays?: number'
      return:
        type:
          - number
    package: azure-arm-sql
  - uid: azure-arm-sql.ExtendedServerBlobAuditingPolicy.state
    name: state
    fullName: state
    children: []
    langs:
      - typeScript
    type: property
    summary: '<span data-ttu-id="8e10b-129">Especifica o estado da política.</span><span class="sxs-lookup"><span data-stu-id="8e10b-129">Specifies the state of the policy.</span></span> <span data-ttu-id="8e10b-130">Se o estado é habilitado, storageEndpoint ou isAzureMonitorTargetEnabled são necessários.</span><span class="sxs-lookup"><span data-stu-id="8e10b-130">If state is Enabled, storageEndpoint or isAzureMonitorTargetEnabled are required.</span></span> <span data-ttu-id="8e10b-131">Os valores possíveis incluem: ''Enabled'', ''Disabled''</span><span class="sxs-lookup"><span data-stu-id="8e10b-131">Possible values include: ''Enabled'', ''Disabled''</span></span>'
    syntax:
      content: 'state: string'
      return:
        type:
          - string
    package: azure-arm-sql
  - uid: azure-arm-sql.ExtendedServerBlobAuditingPolicy.storageAccountAccessKey
    name: storageAccountAccessKey
    fullName: storageAccountAccessKey
    children: []
    langs:
      - typeScript
    type: property
    summary: '<span data-ttu-id="8e10b-132">Especifica a chave de identificador da conta de armazenamento de auditoria.</span><span class="sxs-lookup"><span data-stu-id="8e10b-132">Specifies the identifier key of the auditing storage account.</span></span> <span data-ttu-id="8e10b-133">Se o estado é habilitado e storageEndpoint for especificada, storageAccountAccessKey é necessária.</span><span class="sxs-lookup"><span data-stu-id="8e10b-133">If state is Enabled and storageEndpoint is specified, storageAccountAccessKey is required.</span></span>'
    optional: true
    syntax:
      content: 'storageAccountAccessKey?: string'
      return:
        type:
          - string
    package: azure-arm-sql
  - uid: azure-arm-sql.ExtendedServerBlobAuditingPolicy.storageAccountSubscriptionId
    name: storageAccountSubscriptionId
    fullName: storageAccountSubscriptionId
    children: []
    langs:
      - typeScript
    type: property
    summary: <span data-ttu-id="8e10b-134">Especifica a ID da assinatura de armazenamento de blob</span><span class="sxs-lookup"><span data-stu-id="8e10b-134">Specifies the blob storage subscription Id.</span></span>
    optional: true
    syntax:
      content: 'storageAccountSubscriptionId?: string'
      return:
        type:
          - string
    package: azure-arm-sql
  - uid: azure-arm-sql.ExtendedServerBlobAuditingPolicy.storageEndpoint
    name: storageEndpoint
    fullName: storageEndpoint
    children: []
    langs:
      - typeScript
    type: property
    summary: '<span data-ttu-id="8e10b-135">Especifica o ponto de extremidade de armazenamento de blob (por exemplo, https://MyAccount.blob.core.windows.net).</span><span class="sxs-lookup"><span data-stu-id="8e10b-135">Specifies the blob storage endpoint (e.g. https://MyAccount.blob.core.windows.net).</span></span> <span data-ttu-id="8e10b-136">Se o estado é habilitado, storageEndpoint é necessária.</span><span class="sxs-lookup"><span data-stu-id="8e10b-136">If state is Enabled, storageEndpoint is required.</span></span>'
    optional: true
    syntax:
      content: 'storageEndpoint?: string'
      return:
        type:
          - string
    package: azure-arm-sql
  - uid: azure-arm-sql.ExtendedServerBlobAuditingPolicy.type
    name: type
    fullName: type
    children: []
    langs:
      - typeScript
    type: property
    summary: <span data-ttu-id="8e10b-137">Tipo de recurso.</span><span class="sxs-lookup"><span data-stu-id="8e10b-137">Resource type.</span></span>
    optional: true
    syntax:
      content: 'type?: string'
      return:
        type:
          - string
    package: azure-arm-sql
references:
  - uid: azure-arm-sql.ProxyResource
    name: ProxyResource
    spec.typeScript:
      - name: ProxyResource
        fullName: ProxyResource
        uid: azure-arm-sql.ProxyResource